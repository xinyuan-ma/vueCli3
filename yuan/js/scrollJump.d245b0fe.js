(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["scrollJump"],{3194:function(i,t,e){"use strict";var n=e("9314"),o=e.n(n);o.a},9314:function(i,t,e){},f11d:function(i,t,e){"use strict";e.r(t);var n=function(){var i=this,t=i.$createElement,e=i._self._c||t;return e("div",{ref:"scrollJump",staticClass:"scrollJump"},[e("header",{staticClass:"page-header"},[e("img",{attrs:{srcset:"https://img-pub01.visitshanghai.com.cn/wuxinwenlv/header_750.jpg 750w, https://img-pub01.visitshanghai.com.cn/wuxinwenlv/header_1125.jpg 1125w, https://img-pub01.visitshanghai.com.cn/wuxinwenlv/header_1500.jpg 1500w",src:"https://img-pub01.visitshanghai.com.cn/wuxinwenlv/header_750.jpg"},on:{load:i.loadImg}})]),e("div",{staticClass:"page-top"},[e("div",{ref:"fiveBlock",staticClass:"group-nav",class:{fixed:i.fiveBlocksFixed}},[e("ul",{ref:"fiveBlockScroll"},i._l(i.fiveBlocks,(function(t,n){return e("li",{key:"block"+n,ref:t.navRef+n,refInFor:!0,class:{active:i.activeBlockIndex==n&&i.fiveBlocksFixed},on:{click:function(e){return i.handleClickNav(t,n)}}},[i._v(i._s(t.title)+"\n\t\t\t\t")])})),0)]),e("div",{directives:[{name:"show",rawName:"v-show",value:i.fiveBlocksFixed,expression:"fiveBlocksFixed"}],ref:"navPosition",style:{height:i.fiveBlocksNavHeight+"px"}})]),e("div",{staticClass:"main"},i._l(i.fiveBlocks,(function(t,n){return e("div",{key:n,ref:t.ref,refInFor:!0,staticClass:"listContent"},[e("h1",[i._v(i._s(t.title))]),e("div",{staticClass:"listImg"},i._l(i.list,(function(i,t){return e("img",{key:t,attrs:{src:i.img}})})),0),i._l(10,(function(t){return e("p",{staticStyle:{height:"30px"}},[i._v("测试站位使用")])}))],2)})),0)])},o=[],l=(e("ac6a"),null),a={smoothScroll:function(i,t){var e=this,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:300;return l&&(cancelAnimationFrame(l),l=null),new Promise((function(o){var a=t.scrollTop,s=i-a;if(0!==s){var c=null,r=function r(f){if(c){var v=f-c;if(v>n)t.scrollTo(0,i),l=null,o();else{var h=e.easeOutQuad(v/n);t.scrollTo(0,a+h*s),l=requestAnimationFrame(r)}}else c=f,l=requestAnimationFrame(r)};l=requestAnimationFrame(r)}}))},smoothScrollLeft:function(i,t){var e=this,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:300;i.horizontalScrollAnimationFrameId&&(cancelAnimationFrame(i.horizontalScrollAnimationFrameId),i.horizontalScrollAnimationFrameId=null);var o=i.scrollLeft,l=t-o;if(0!==l){var a=null,s=function s(c){if(a){var r=c-a;if(r>n)i.scrollLeft=t,i.horizontalScrollAnimationFrameId=null;else{var f=e.easeOutQuad(r/n);i.scrollLeft=o+f*l,i.horizontalScrollAnimationFrameId=requestAnimationFrame(s)}}else a=c,i.horizontalScrollAnimationFrameId=requestAnimationFrame(s)};i.horizontalScrollAnimationFrameId=requestAnimationFrame(s)}},easeOutQuad:function(i){return 1-(1-i)*(1-i)}},s=[{ref:"nav1",navRef:"navRef",title:"导航1",top:""},{ref:"nav2",navRef:"navRef",title:"导航2",top:""},{ref:"nav3",navRef:"navRef",title:"导航3",top:""},{ref:"nav4",navRef:"navRef",title:"导航4",top:""},{ref:"nav5",title:"导航5",navRef:"navRef",top:""},{ref:"nav6",title:"导航6",navRef:"navRef",top:""}],c=[{img:"https://img-pub01.visitshanghai.com.cn/505a57af7bd94832b40a74a04ac97e1d.png?e=1587643144&token=JT9hop2MntCNMNz8O7UqTb4scQYpASy7sK2q11su:OgvrdvWzf458_XMff-GAwptKxL0="},{img:"https://img-pub01.visitshanghai.com.cn/5fac6431f7e248cd92ad0aab3670b44c.jpg?e=1588927593&token=JT9hop2MntCNMNz8O7UqTb4scQYpASy7sK2q11su:8OVskPw4WyYBbfVcuOT5ZRIgaVY="},{img:"https://img-pub01.visitshanghai.com.cn/Fva5K5IR05rdjdmRxWlkQrM75HaH?e=1586504128&token=JT9hop2MntCNMNz8O7UqTb4scQYpASy7sK2q11su:xTDPt1CTF78euLgnXYhxY3vkn_k="},{img:"https://img-pub01.visitshanghai.com.cn/FsyrVsbI6Qq6twXl2uf-IAvBxbU0?e=1586243977&token=JT9hop2MntCNMNz8O7UqTb4scQYpASy7sK2q11su:7nN5ffmRdeZRXqgAzWcjwyiawcM="}],r={name:"scrollJump",components:{},data:function(){return{fiveBlocksFixed:!1,activeBlockIndex:-1,fiveBlocksNavHeight:"",fiveBlockTop:"",navMaxScroll:"",noScrolling:!1,fiveBlocks:s,list:c}},created:function(){},mounted:function(){this.bandScroll(),this.fiveBlockBroundClientRect(),this.listScrollTop()},methods:{loadImg:function(){},bandScroll:function(){document.querySelector(".scrollJump").addEventListener("scroll",this.handleScroll)},fiveBlockBroundClientRect:function(){var i=this.$refs.fiveBlock.getBoundingClientRect(),t=i.top,e=i.width,n=i.height;this.fiveBlockTop=t,this.fiveBlocksNavHeight=n,this.navMaxScroll=this.$refs.fiveBlockScroll.scrollWidth-e},listScrollTop:function(){var i=this;this.fiveBlocks.forEach((function(t){t.top=i.$refs[t.ref][0].getBoundingClientRect().top-i.fiveBlocksNavHeight}))},navScrollMiddle:function(i){var t=this.$refs["navRef"+i][0].offsetLeft+this.$refs["navRef"+i][0].clientWidth/2,e=window.innerWidth/2,n=t-e;n>0?n=Math.min(n,this.navMaxScroll):n<0&&(n=0),a.smoothScrollLeft(this.$refs.fiveBlockScroll,n)},handleClickNav:function(i,t){var e=this;if(this.activeBlockIndex!=t){this.activeBlockIndex=t;var n=i.top;this.navScrollMiddle(t),this.noScrolling=!0,a.smoothScroll(n,this.$refs.scrollJump).then((function(){setTimeout((function(){e.noScrolling=!1,console.log("滚动加载完")}),50)}))}},handleScroll:function(){var i=this.$refs.scrollJump.scrollTop;if(i>this.fiveBlockTop?this.fiveBlocksFixed=!0:this.fiveBlocksFixed=!1,!this.noScrolling){for(var t=20,e=this.fiveBlocks.length-1;e>=0;e--)if(i>this.fiveBlocks[e].top-t){this.activeBlockIndex=e;break}this.activeBlockIndex>-1&&this.navScrollMiddle(this.activeBlockIndex)}}}},f=r,v=(e("3194"),e("2877")),h=Object(v["a"])(f,n,o,!1,null,"68a87e9c",null);t["default"]=h.exports}}]);